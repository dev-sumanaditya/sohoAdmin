<div class="main-ctr col">
  <div class="card">
    <div class="backRow row">
      <img src="/assets/utilities/back1.png" alt="" class="back" (click)="back()">
      <strong class="primary">Blog Editor</strong>
    </div>
    <ng-toggle
      [value]="blogData.published"
      [color]="{
        unchecked: '#939da2',
        checked: '#0ac775'
      }"
      [labels]="{checked: 'Draft', unchecked: 'Published'}"
      [width]="200"
    ></ng-toggle>
    <div class="top col" *ngIf="blogData">
      <div class="f1 col">
        <div class="image">
          <div class="img" [style.background]="'url('+ blogData.image +')'"></div>
        </div>
        <div class="btn btn-primary" (click)="coverImage.click()">Change Image</div>
        <input type="file" style="display: none;" (change)="fileChangeEvent($event)" #coverImage (click)="coverImage.value = ''">
      </div>
      <div class="f2 col cont">
        <label for="">Blog Title:</label>
        <input type="text" placeholder="Blog title" [(ngModel)]="blogData.title" maxlength="80">
      </div>
    </div>
    <div class="quill" *ngIf="blogData">
      <quill-editor
      [styles]="editorStyle"
      (onEditorChanged)="changedEditor($event)"
      [(ngModel)]="blogData.content"
      trackChanges="all"
      [modules]="modules"
      placeholder="A detailed explation about your course in not more than 1500 words"
      ></quill-editor>
    </div>
    <br>
    <br>
    <div class="btn btn-primary" (click)="save()">Save Blog</div><br>
    <div class="btn btn-outline" (click)="publish()">Publish Blog</div><br>
    <div class="btn btn-danger" (click)="delete()">Delete this Blog</div>
  </div>
</div>
<div class="modal" *ngIf="imageChangedEvent">
  <div class="cont col">
    <image-cropper
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="true"
      [aspectRatio]="10 / 4"
      format="png"
      class="cropper"
      (imageCropped)="imageCropped($event)"
      (loadImageFailed)="loadImageFailed()"
    ></image-cropper>
    <div class="btn btn-primary" (click)="uploadImage()">Upload Image</div>
    <div class="btn white" (click)="imageChangedEvent = ''">Cancel</div>
  </div>
</div>
